# 02. 지역 상태와 전역 상태 사용하기

depth가 깊지 않다면 상위에서 상태를 정의하고 쓰는게 바람직하다

하지만 depth가 깊어지면 관리가 힘들다

전역상태를 사용ㅎ나다면 범위를 어느정도 하고 어떤 상태를 공유하는지 설계하는 것이 중요

싱글톤 패턴을 쓰기보다는 컨테이너를 하나 만들어서 쓰는 것이 모듈화된 방식이다.

전역 상태를 쓸 때는 관리를 잘해야 한다. 어디서든 접근 가능하기에

멱등성 -> API 통신의 개념에서만 생각했고 단순하게 순간적으로 몰려있는 요청에 대해 중복처리를 방지하고 하나의 결과값을 뱉는? 그런 모호하게 알고 있었던 개념을 리액트의 관점에서 실제 코드와 설명을 통해 ~~ 알고 더 잘 알 수 있어서 좋았다.
리액트에서도 멱등성의 특성을 적용할 수 있구나...

토스의 아래 포스트를 통해 처음 접했었고
https://docs.tosspayments.com/blog/what-is-idempotency

변경할 수 있는데 주체가 하나이기 때문에 같은 결과 값을얻는다.

---

## 지역 상태를 효과적으로 사용하는 방법

두 가지 방법이 있다.

1. lifting state up
2. lifting content up

### lifting state up - 상태 끌어올리기

두 컴포넌트에서 사용하는 동일한 역할의 상태, 액션을 하나의 상태로 공유하기 위해 이들을 감싸는 부모 컴포넌트를 만들어서 만들고 자식 컴포넌트에 필요한 정보들을 props로 내려준다.
이는 자식 컴포넌트들이 동일하게 리렌더링이 발생하기 때문에 의도된 형태가 아니라면 성능의 저하를 유발한다.

### lifting content up - 내용 끌어올리기

lifting content up -> 리렌더링 방지로도 사용할 수 있다는 게 신기

지역 상태와 전역 상태를 정의하는 방식

특정 스코프에서 상태를 공유 -> 전역으로 볼것인가? 지역으로 볼것인가?
